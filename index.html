<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>STEPS Decision Aid Tool</title>
  <link rel="stylesheet" href="styles.css"/>

  <!-- Font Awesome for Icons -->
  <link 
    rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" 
    integrity="sha512-AAmSnT0pZ5G1tSBQf6CWKePsyzaW+WYejEpJ8OrIPUtGm2E4Qp58Xdmig2N3gC3p8KGkK8bXF+0AAlcSXkPd5g==" 
    crossorigin="anonymous" 
    referrerpolicy="no-referrer"
  />

  <!-- Chart.js Library -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- jsPDF Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <div class="container">
    <header>
      <h1>STEPS Decision Aid Tool</h1>
    </header>

    <div class="tabs">
      <button class="tablink active" onclick="openTab('introTab', this)">Introduction</button>
      <button class="tablink" onclick="openTab('instructionsTab', this)">Instructions</button>
      <button class="tablink" onclick="openTab('attributesTab', this)">Attributes</button>
      <button class="tablink" onclick="openTab('inputsTab', this)">Inputs</button>
      <button class="tablink" onclick="openTab('uptakeTab', this)">Predicted Program Uptake</button>
      <button class="tablink" onclick="openTab('wtpTab', this)">Willingness to Pay</button>
      <button class="tablink" onclick="openTab('cbaTab', this)">Costs &amp; Benefits</button>
      <button class="tablink" onclick="openTab('scenariosTab', this)">Scenarios</button>
    </div>

    <!-- Introduction Tab -->
    <div id="introTab" class="tabcontent" style="display: block;">
      <div class="intro-box">
        <p>
          <strong>STEPS (Scalable Training Estimation and Planning System)</strong> supports decisions around 
          Field Epidemiology Training Programs (FETP) in India. By estimating how many participants 
          will enroll, calculating costs and benefits, and analyzing how different attributes affect 
          willingness to pay, STEPS helps you plan effective, cost-efficient programs.
        </p>
        <p>Use the tabs above to navigate through these features:</p>
        <ul>
          <li><strong>Instructions</strong> – Quick guide to using the tool.</li>
          <li><strong>Attributes</strong> – Key training attributes with icons and tooltips.</li>
          <li><strong>Inputs</strong> – Configure your scenario’s parameters.</li>
          <li><strong>Predicted Program Uptake</strong> – Charts of potential participation.</li>
          <li><strong>Willingness to Pay</strong> – How each attribute influences perceived value.</li>
          <li><strong>Costs &amp; Benefits</strong> – Detailed financial breakdown and net calculations.</li>
          <li><strong>Scenarios</strong> – Save, load, compare, or export scenario reports to PDF.</li>
        </ul>
      </div>
    </div>

    <!-- Instructions Tab -->
    <div id="instructionsTab" class="tabcontent">
      <h2>How to Use This Tool</h2>
      <ol>
        <li>
          <strong>Review Attributes:</strong> See the training parameters in <strong>Attributes</strong>.
        </li>
        <li>
          <strong>Set Up Inputs:</strong> Specify your training level, delivery method, accreditation, location, cohort size, 
          and cost per participant in <strong>Inputs</strong>.
        </li>
        <li>
          <strong>Predict Program Uptake:</strong> Click the button to see participation estimates, plus cost and benefit charts.
        </li>
        <li>
          <strong>Check Willingness to Pay:</strong> Explore how each attribute level compares to a reference point in the 
          <strong>Willingness to Pay</strong> tab.
        </li>
        <li>
          <strong>View Costs &amp; Benefits:</strong> Understand your total costs, benefits, and net returns in the
          <strong>Costs &amp; Benefits</strong> tab.
        </li>
        <li>
          <strong>Manage Scenarios:</strong> Under <strong>Scenarios</strong>, save or export multiple configurations.
        </li>
      </ol>
    </div>

    <!-- Attributes Tab -->
    <div id="attributesTab" class="tabcontent">
      <h2>Attributes</h2>
      <div class="attribute-cards">
        <!-- Training Level -->
        <div class="attribute-card" tabindex="0" data-tooltip="Frontline, Intermediate, or Advanced training level determines the complexity of skills taught.">
          <i class="fas fa-chalkboard-teacher fa-2x"></i>
          <h3>Training Level</h3>
          <p>Frontline, Intermediate, Advanced</p>
        </div>

        <!-- Delivery Method -->
        <div class="attribute-card" tabindex="0" data-tooltip="In-person, fully online, or a mix (hybrid) approach to training delivery.">
          <i class="fas fa-laptop-house fa-2x"></i>
          <h3>Delivery Method</h3>
          <p>In-Person, Online, Hybrid</p>
        </div>

        <!-- Accreditation -->
        <div class="attribute-card" tabindex="0" data-tooltip="National or international accreditation can add recognized quality assurances.">
          <i class="fas fa-certificate fa-2x"></i>
          <h3>Accreditation</h3>
          <p>National, International, None</p>
        </div>

        <!-- Location -->
        <div class="attribute-card" tabindex="0" data-tooltip="Site of training: District, State, or Regional centers for multi-district coverage.">
          <i class="fas fa-map-marker-alt fa-2x"></i>
          <h3>Location</h3>
          <p>District-Level, State-Level, Regional Centers</p>
        </div>

        <!-- Cohort Size -->
        <div class="attribute-card" tabindex="0" data-tooltip="Number of participants in each training batch. Larger cohorts can reduce per-participant costs but might affect quality.">
          <i class="fas fa-users fa-2x"></i>
          <h3>Cohort Size</h3>
          <p>500, 1000, 2000</p>
        </div>

        <!-- Cost per Participant -->
        <div class="attribute-card" tabindex="0" data-tooltip="Continuous range from ₹100,000 to ₹600,000 per participant. This includes tuition, materials, lodging, etc.">
          <i class="fas fa-rupee-sign fa-2x"></i>
          <h3>Cost per Participant</h3>
          <p>₹100K – ₹600K</p>
        </div>
      </div>
    </div>

    <!-- Inputs Tab -->
    <div id="inputsTab" class="tabcontent">
      <h2>Configure Your Training Scenario</h2>
      <form id="scenario-form">
        <!-- Training Level -->
        <div class="form-group">
          <label>Training Level</label>
          <div class="radio-group">
            <label>
              <input type="radio" name="training-level" value="Frontline" checked>
              Frontline
            </label>
            <label>
              <input type="radio" name="training-level" value="Intermediate">
              Intermediate
            </label>
            <label>
              <input type="radio" name="training-level" value="Advanced">
              Advanced
            </label>
          </div>
        </div>

        <!-- Delivery Method -->
        <div class="form-group">
          <label>Delivery Method</label>
          <div class="radio-group">
            <label>
              <input type="radio" name="delivery-method" value="In-Person" checked>
              In-Person
            </label>
            <label>
              <input type="radio" name="delivery-method" value="Online">
              Online
            </label>
            <label>
              <input type="radio" name="delivery-method" value="Hybrid">
              Hybrid
            </label>
          </div>
        </div>

        <!-- Accreditation -->
        <div class="form-group">
          <label>Accreditation</label>
          <div class="radio-group">
            <label>
              <input type="radio" name="accreditation" value="National" checked>
              National
            </label>
            <label>
              <input type="radio" name="accreditation" value="International">
              International
            </label>
            <label>
              <input type="radio" name="accreditation" value="None">
              None
            </label>
          </div>
        </div>

        <!-- Location of Training -->
        <div class="form-group">
          <label>Location of Training</label>
          <div class="radio-group">
            <label>
              <input type="radio" name="location" value="District-Level" checked>
              District-Level
            </label>
            <label>
              <input type="radio" name="location" value="State-Level">
              State-Level
            </label>
            <label>
              <input type="radio" name="location" value="Regional Centers">
              Regional Centers
            </label>
          </div>
        </div>

        <!-- Cohort Size -->
        <div class="form-group">
          <label for="cohort-size">Cohort Size (500–2000)</label>
          <input 
            type="range" 
            class="form-control-range" 
            id="cohort-size" 
            min="500" 
            max="2000" 
            step="500" 
            value="1000"
          >
          <small id="cohort-size-value">1000</small>
        </div>

        <!-- Cost per Participant -->
        <div class="form-group">
          <label for="cost-per-participant">Cost per Participant (₹100K–600K)</label>
          <input 
            type="range" 
            class="form-control-range" 
            id="cost-per-participant" 
            min="100000" 
            max="600000" 
            step="50000" 
            value="300000"
          >
          <small id="cost-per-participant-value">₹300,000</small>
        </div>

        <button type="button" class="btn btn-primary" id="view-results">
          Predict Program Uptake
        </button>
      </form>
    </div>

    <!-- Predicted Program Uptake Tab -->
    <div id="uptakeTab" class="tabcontent">
      <h2>Predicted Program Uptake</h2>
      <div id="uptake-content">
        <p>Results will appear here after you click "Predict Program Uptake".</p>
        <canvas id="uptakeChart" width="400" height="200"></canvas>
      </div>
    </div>

    <!-- Willingness to Pay Tab -->
    <div id="wtpTab" class="tabcontent">
      <h2>Willingness to Pay</h2>
      <p>
        The bar chart below indicates how much more or less participants might pay for each attribute level, 
        relative to a reference scenario. 
      </p>
      <div class="chart-grid">
        <div class="chart-box">
          <canvas id="wtpChartMain"></canvas>
        </div>
      </div>
    </div>

    <!-- Costs & Benefits Tab -->
    <div id="cbaTab" class="tabcontent">
      <h2>Costs &amp; Benefits</h2>
      <div id="cba-content">
        <p>After predicting, a summary of your scenario’s total costs, total benefits, and net benefits displays here.</p>
        <canvas id="cbaChart" width="400" height="200"></canvas>
      </div>
    </div>

    <!-- Scenarios Tab -->
    <div id="scenariosTab" class="tabcontent">
      <h2>Saved Scenarios</h2>
      <p>
        Save your current scenario from <strong>Inputs</strong> and compare or export multiple configurations, 
        including cost-benefit charts, to PDF.
      </p>
      <form id="save-scenario-form">
        <div class="form-group">
          <label for="scenario-name">Scenario Name:</label>
          <input 
            type="text" 
            class="form-control" 
            id="scenario-name" 
            placeholder="Enter scenario name"
          >
        </div>
        <button type="button" class="btn btn-info" id="save-scenario">
          Save Scenario
        </button>
      </form>
      <hr>
      <h4>Saved Scenarios:</h4>
      <ul class="list-group" id="saved-scenarios-list"></ul>
      <hr>
      <button class="btn btn-secondary" id="export-pdf">Export Scenarios to PDF</button>
    </div>

    <footer>
      <p>
        &copy; 2025 STEPS. All Rights Reserved. <br/>
        Author: Mesfin Genie, Newcastle Business School, University of Newcastle, Australia <br/>
        <strong>Support:</strong> 
        <a href="mailto:mesfin.genie@newcastle.edu.au">mesfin.genie@newcastle.edu.au</a>
      </p>
    </footer>
  </div>
  <script src="script.js"></script>
</body>
</html>
