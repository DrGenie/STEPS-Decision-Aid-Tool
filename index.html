<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>STEPS Decision Aid Tool</title>
  <link rel="stylesheet" href="styles.css"/>
  <!-- Font Awesome for Icons -->
  <link 
    rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" 
    integrity="sha512-AAmSnT0pZ5G1tSBQf6CWKePsyzaW+WYejEpJ8OrIPUtGm2E4Qp58Xdmig2N3gC3p8KGkK8bXF+0AAlcSXkPd5g==" 
    crossorigin="anonymous" 
    referrerpolicy="no-referrer"
/>
  <!-- Chart.js Library -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- jsPDF Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <div class="container">
    <header>
      <h1>STEPS Decision Aid Tool</h1>
    </header>

    <div class="tabs">
      <button class="tablink active" onclick="openTab('introTab', this)">Introduction</button>
      <button class="tablink" onclick="openTab('instructionsTab', this)">Instructions</button>
      <button class="tablink" onclick="openTab('attributesTab', this)">Attributes</button>
      <button class="tablink" onclick="openTab('inputsTab', this)">Inputs</button>
      <button class="tablink" onclick="openTab('uptakeTab', this)">Predicted Program Uptake</button>
      <button class="tablink" onclick="openTab('wtpTab', this)">Willingness to Pay</button>
      <button class="tablink" onclick="openTab('cbaTab', this)">Costs & Benefits</button>
      <button class="tablink" onclick="openTab('scenariosTab', this)">Scenarios</button>
    </div>

    <!-- Introduction Tab -->
    <div id="introTab" class="tabcontent" style="display: block;">
      <div class="intro-box">
        <p>
          <strong>STEPS (Scalable Training Estimation and Planning System)</strong> is designed to help decision makers 
          plan and scale Field Epidemiology Training Programs (FETP) in India. This tool predicts how many participants 
          are likely to join a program (program uptake) and conducts cost-benefit analyses to support data-driven decisionss.
        </p>
        <p>Use the tabs above to navigate through the tool's features:</p>
        <ul>
          <li><strong>Instructions</strong> – A brief guide to using this decision aid.</li>
          <li><strong>Attributes</strong> – An overview of key training attributes and levels.</li>
          <li><strong>Inputs</strong> – Configure your FETP scenario's parameters.</li>
          <li><strong>Predicted Program Uptake</strong> – View real-time estimates of likely participation.</li>
          <li><strong>Willingness to Pay</strong> – Examine how much more or less participants value each attribute.</li>
          <li><strong>Costs & Benefits</strong> – Review financial implications, costs, and net benefits.</li>
          <li><strong>Scenarios</strong> – Save, compare, or export your scenario analyses.</li>
        </ul>
      </div>
    </div>

    <!-- Instructions Tab -->
    <div id="instructionsTab" class="tabcontent">
      <h2>How to Use This Tool</h2>
      <ol>
        <li>Check <strong>Attributes</strong> for a clear overview of training attributes and levels.</li>
        <li>Visit <strong>Inputs</strong> to select training parameters and budget constraints.</li>
        <li>Click <strong>Predict Program Uptake</strong> to calculate and display results.</li>
        <li>Open <strong>Predicted Program Uptake</strong> to see a live chart of participation estimates.</li>
        <li>Explore <strong>Willingness to Pay</strong> for attribute-based monetary valuations.</li>
        <li>Review <strong>Costs &amp; Benefits</strong> for a breakdown of financial returns.</li>
        <li>Use <strong>Scenarios</strong> to save configurations, compare them, or export as a PDF report.</li>
      </ol>
    </div>

    <!-- Attributes Tab -->
    <div id="attributesTab" class="tabcontent">
      <h2>Attributes <i class="fas fa-info-circle"></i></h2>
      <table class="table">
        <thead>
          <tr>
            <th>Attribute</th>
            <th>Levels</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><i class="fas fa-chalkboard-teacher"></i> Training Level</td>
            <td>Frontline, Intermediate, Advanced</td>
            <td>Complexity and depth of the training curriculum.</td>
          </tr>
          <tr>
            <td><i class="fas fa-laptop-house"></i> Delivery Method</td>
            <td>In-Person, Online, Hybrid</td>
            <td>Mode of instruction and participant engagement.</td>
          </tr>
          <tr>
            <td><i class="fas fa-certificate"></i> Accreditation</td>
            <td>National, International, None</td>
            <td>Formal recognition of program quality or standard.</td>
          </tr>
          <tr>
            <td><i class="fas fa-map-marker-alt"></i> Location of Training</td>
            <td>District-Level, State-Level, Regional Centers</td>
            <td>Geographical location where training is conducted.</td>
          </tr>
          <tr>
            <td><i class="fas fa-users"></i> Cohort Size</td>
            <td>Small (500), Medium (1000), Large (2000)</td>
            <td>Number of participants per training batch.</td>
          </tr>
          <tr>
            <td><i class="fas fa-rupee-sign"></i> Cost per Participant</td>
            <td>Continuous (₹100,000 – ₹600,000)</td>
            <td>Financial investment required per trainee.</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Inputs Tab -->
    <div id="inputsTab" class="tabcontent">
      <h2>Configure Your Training Scenario</h2>
      <form id="scenario-form">
        <!-- Training Level -->
        <div class="form-group">
          <label>Training Level:</label>
          <div class="radio-group">
            <label>
              <input type="radio" name="training-level" value="Frontline" checked>
              Frontline
            </label>
            <label>
              <input type="radio" name="training-level" value="Intermediate">
              Intermediate
            </label>
            <label>
              <input type="radio" name="training-level" value="Advanced">
              Advanced
            </label>
          </div>
        </div>

        <!-- Delivery Method -->
        <div class="form-group">
          <label>Delivery Method:</label>
          <div class="radio-group">
            <label>
              <input type="radio" name="delivery-method" value="In-Person" checked>
              In-Person
            </label>
            <label>
              <input type="radio" name="delivery-method" value="Online">
              Online
            </label>
            <label>
              <input type="radio" name="delivery-method" value="Hybrid">
              Hybrid
            </label>
          </div>
        </div>

        <!-- Accreditation -->
        <div class="form-group">
          <label>Accreditation:</label>
          <div class="radio-group">
            <label>
              <input type="radio" name="accreditation" value="National" checked>
              National
            </label>
            <label>
              <input type="radio" name="accreditation" value="International">
              International
            </label>
            <label>
              <input type="radio" name="accreditation" value="None">
              None
            </label>
          </div>
        </div>

        <!-- Location of Training -->
        <div class="form-group">
          <label>Location of Training:</label>
          <div class="radio-group">
            <label>
              <input type="radio" name="location" value="District-Level" checked>
              District-Level
            </label>
            <label>
              <input type="radio" name="location" value="State-Level">
              State-Level
            </label>
            <label>
              <input type="radio" name="location" value="Regional Centers">
              Regional Centers
            </label>
          </div>
        </div>

        <!-- Cohort Size -->
        <div class="form-group">
          <label for="cohort-size">Cohort Size (500–2000):</label>
          <input 
            type="range" 
            class="form-control-range" 
            id="cohort-size" 
            min="500" 
            max="2000" 
            step="500" 
            value="1000"
          >
          <small id="cohort-size-value">1000</small>
        </div>

        <!-- Cost per Participant -->
        <div class="form-group">
          <label for="cost-per-participant">Cost per Participant (₹100,000–₹600,000):</label>
          <input 
            type="range" 
            class="form-control-range" 
            id="cost-per-participant" 
            min="100000" 
            max="600000" 
            step="50000" 
            value="300000"
          >
          <small id="cost-per-participant-value">₹300,000</small>
        </div>

        <button type="button" class="btn btn-primary" id="view-results">
          Predict Program Uptake
        </button>
      </form>
    </div>

    <!-- Predicted Program Uptake Tab -->
    <div id="uptakeTab" class="tabcontent">
      <h2>Predicted Program Uptake</h2>
      <div id="uptake-content">
        <p>Your predicted program uptake will display here once calculated.</p>
        <canvas id="uptakeChart" width="400" height="200"></canvas>
      </div>
    </div>

    <!-- WTP Tab -->
    <div id="wtpTab" class="tabcontent">
      <h2>Willingness to Pay</h2>
      <p>
        The chart below shows how much participants value each attribute compared 
        to a baseline scenario. Positive bars indicate higher willingness to pay, 
        while negative bars mean they prefer the baseline.
      </p>
      <div class="chart-grid">
        <div class="chart-box">
          <canvas id="wtpChartMain"></canvas>
        </div>
      </div>
    </div>

    <!-- Costs & Benefits Tab -->
    <div id="cbaTab" class="tabcontent">
      <h2>Costs &amp; Benefits</h2>
      <div id="cba-content">
        <p>A summary of total costs, total benefits, and net benefits will display here.</p>
        <canvas id="cbaChart" width="400" height="200"></canvas>
      </div>
    </div>

    <!-- Scenarios Tab -->
    <div id="scenariosTab" class="tabcontent">
      <h2>Saved Scenarios</h2>
      <p>
        Save the current scenario, then manage multiple scenarios below, or export them to PDF.
      </p>
      <form id="save-scenario-form">
        <div class="form-group">
          <label for="scenario-name">Scenario Name:</label>
          <input 
            type="text" 
            class="form-control" 
            id="scenario-name" 
            placeholder="Enter scenario name here"
          >
        </div>
        <button type="button" class="btn btn-info" id="save-scenario">
          Save Scenario
        </button>
      </form>
      <hr>
      <h4>Saved Scenarios:</h4>
      <ul class="list-group" id="saved-scenarios-list">
        <!-- Appended scenario items go here -->
      </ul>
      <hr>
      <button class="btn btn-secondary" id="export-pdf">
        Export Scenarios to PDF
      </button>
    </div>

    <footer>
      <p>
        &copy; 2025 STEPS. All Rights Reserved. <br/>
        Author: Mesfin Genie, Newcastle Business School, University of Newcastle, Australia <br/>
        <strong>Support:</strong> <a href="mailto:mesfin.genie@newcastle.edu.au">mesfin.genie@newcastle.edu.au</a>
      </p>
    </footer>
  </div>
  <script src="script.js"></script>
</body>
</html>
