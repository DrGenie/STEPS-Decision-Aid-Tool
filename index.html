<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>STEPS Decision Aid Tool</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-papNMzNnQn5iH+1G+FHu8SyuXHs6A1k+Ln7tK5qRo1l5eYm6Jzv+1pArJ7N4C9FfpRrmAgM3tYWd3FZ9jKz1Bw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- Chart.js Library -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- jsPDF Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <div class="container">
    <header>
      <h1>STEPS Decision Aid Tool</h1>
      <p>
        This tool supports decision makers in planning and scaling Field Epidemiology Training Programs (FETP) in India. It estimates programme uptake, computes detailed cost–benefit analysis, and assesses willingness‐to‐pay (WTP) for key programme features.
      </p>
    </header>

    <nav class="tabs" role="tablist">
      <button class="tablink active" role="tab" aria-selected="true" aria-controls="introTab" onclick="openTab('introTab', this)">
        <i class="fa-solid fa-info-circle"></i><span> Introduction</span>
      </button>
      <button class="tablink" role="tab" aria-selected="false" aria-controls="instructionsTab" onclick="openTab('instructionsTab', this)">
        <i class="fa-solid fa-circle-question"></i><span> Instructions</span>
      </button>
      <button class="tablink" role="tab" aria-selected="false" aria-controls="attributesTab" onclick="openTab('attributesTab', this)">
        <i class="fa-solid fa-list"></i><span> Attributes</span>
      </button>
      <button class="tablink" role="tab" aria-selected="false" aria-controls="inputsTab" onclick="openTab('inputsTab', this)">
        <i class="fa-solid fa-sliders"></i><span> Inputs</span>
      </button>
      <button class="tablink" role="tab" aria-selected="false" aria-controls="wtpTab" onclick="openTab('wtpTab', this)">
        <i class="fa-solid fa-chart-bar"></i><span> WTP Results</span>
      </button>
      <button class="tablink" role="tab" aria-selected="false" aria-controls="uptakeTab" onclick="openTab('uptakeTab', this)">
        <i class="fa-solid fa-chart-line"></i><span> Predicted Program Uptake</span>
      </button>
      <button class="tablink" role="tab" aria-selected="false" aria-controls="cbaTab" onclick="openTab('cbaTab', this)">
        <i class="fa-solid fa-calculator"></i><span> Costs & Benefits</span>
      </button>
      <button class="tablink" role="tab" aria-selected="false" aria-controls="scenariosTab" onclick="openTab('scenariosTab', this)">
        <i class="fa-solid fa-folder-open"></i><span> Scenarios</span>
      </button>
    </nav>

    <!-- Introduction Tab -->
    <section id="introTab" class="tabcontent" tabindex="0" style="display: block;">
      <div class="intro-box">
        <p>
          <strong>STEPS (Scalable Training Estimation and Planning System)</strong> helps you plan cost-effective Field Epidemiology Training Programs by estimating participant uptake and analyzing costs versus benefits.
        </p>
        <ul>
          <li><strong>Instructions</strong> – Step-by-step guidance.</li>
          <li><strong>Attributes</strong> – Overview of programme features with icons and helpful tooltips.</li>
          <li><strong>Inputs</strong> – Set your programme parameters using interactive controls.</li>
          <li><strong>WTP Results</strong> – See the value participants assign to each attribute level.</li>
          <li><strong>Predicted Program Uptake</strong> – View the estimated participation rate.</li>
          <li><strong>Costs & Benefits</strong> – Explore a detailed cost–benefit analysis with educational summaries.</li>
          <li><strong>Scenarios</strong> – Save and compare different configurations, and export reports.</li>
        </ul>
      </div>
    </section>

    <!-- Instructions Tab -->
    <section id="instructionsTab" class="tabcontent" tabindex="0">
      <div class="calculation-info">
        <h4>How to Use This Tool</h4>
        <ol>
          <li>Review the <strong>Attributes</strong> tab to learn about each programme feature. Hover over icons for details.</li>
          <li>In the <strong>Inputs</strong> tab, set your scenario using level cards and sliders.</li>
          <li>Click <strong>"Predict Program Uptake"</strong> to update the predictions and analysis sections.</li>
          <li>Examine the <strong>WTP Results</strong> for monetary valuations of each attribute level.</li>
          <li>See the <strong>Predicted Program Uptake</strong> chart for estimated participation rates.</li>
          <li>Review the <strong>Costs & Benefits</strong> tab for a breakdown of total costs, benefits, and net returns—with an educational explanation.</li>
          <li>Save and compare scenarios in the <strong>Scenarios</strong> tab, then export reports if desired.</li>
        </ol>
      </div>
    </section>

    <!-- Attributes Tab -->
    <section id="attributesTab" class="tabcontent" tabindex="0">
      <h2>Key Attributes</h2>
      <div class="attributes-list">
        <!-- Training Level Card -->
        <div class="attribute-card" tabindex="0" data-tooltip="Select between Frontline, Intermediate, or Advanced. 'Advanced' is used as the baseline for valuation.">
          <div class="attribute-icon">
            <i class="fa-solid fa-chalkboard-teacher"></i>
          </div>
          <div class="attribute-content">
            <h4>Training Level</h4>
            <p>Frontline, Intermediate, Advanced</p>
          </div>
        </div>
        <!-- Delivery Method Card -->
        <div class="attribute-card" tabindex="0" data-tooltip="Choose In-Person, Online, or Hybrid. 'Online' is the baseline.">
          <div class="attribute-icon">
            <i class="fa-solid fa-laptop-house"></i>
          </div>
          <div class="attribute-content">
            <h4>Delivery Method</h4>
            <p>In-Person, Online, Hybrid</p>
          </div>
        </div>
        <!-- Accreditation Card -->
        <div class="attribute-card" tabindex="0" data-tooltip="Accreditation adds credibility. 'None' is the baseline.">
          <div class="attribute-icon">
            <i class="fa-solid fa-certificate"></i>
          </div>
          <div class="attribute-content">
            <h4>Accreditation</h4>
            <p>National, International, None</p>
          </div>
        </div>
        <!-- Location Card -->
        <div class="attribute-card" tabindex="0" data-tooltip="Location impacts accessibility. 'District-Level' is the baseline.">
          <div class="attribute-icon">
            <i class="fa-solid fa-map-marker-alt"></i>
          </div>
          <div class="attribute-content">
            <h4>Location</h4>
            <p>District-Level, State-Level, Regional Centers</p>
          </div>
        </div>
        <!-- Cohort Size Card -->
        <div class="attribute-card" tabindex="0" data-tooltip="Select the number of participants. Larger cohorts may lower per-participant cost but can affect quality.">
          <div class="attribute-icon">
            <i class="fa-solid fa-users"></i>
          </div>
          <div class="attribute-content">
            <h4>Cohort Size</h4>
            <p>500, 1000, 2000</p>
          </div>
        </div>
        <!-- Cost per Participant Card -->
        <div class="attribute-card" tabindex="0" data-tooltip="Cost per participant in USD. This includes tuition, materials, and other expenses.">
          <div class="attribute-icon">
            <i class="fa-solid fa-dollar-sign"></i>
          </div>
          <div class="attribute-content">
            <h4>Cost per Participant</h4>
            <p>$1,000 – $6,000</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Inputs Tab -->
    <section id="inputsTab" class="tabcontent" tabindex="0">
      <h2>Configure Your Scenario</h2>
      <div class="input-card">
        <h3>Programme Inputs</h3>
        <p>Select the desired levels for each attribute below.</p>
        <div class="form-grid">
          <!-- Categorical Inputs -->
          <div class="form-item">
            <label>Training Level:</label>
            <div class="radio-group">
              <label><input type="radio" name="training-level" value="Frontline" checked> Frontline</label>
              <label><input type="radio" name="training-level" value="Intermediate"> Intermediate</label>
              <label><input type="radio" name="training-level" value="Advanced"> Advanced</label>
            </div>
          </div>
          <div class="form-item">
            <label>Delivery Method:</label>
            <div class="radio-group">
              <label><input type="radio" name="delivery-method" value="In-Person" checked> In-Person</label>
              <label><input type="radio" name="delivery-method" value="Online"> Online</label>
              <label><input type="radio" name="delivery-method" value="Hybrid"> Hybrid</label>
            </div>
          </div>
          <div class="form-item">
            <label>Accreditation:</label>
            <div class="radio-group">
              <label><input type="radio" name="accreditation" value="National" checked> National</label>
              <label><input type="radio" name="accreditation" value="International"> International</label>
              <label><input type="radio" name="accreditation" value="None"> None</label>
            </div>
          </div>
          <div class="form-item">
            <label>Location:</label>
            <div class="radio-group">
              <label><input type="radio" name="location" value="District-Level" checked> District-Level</label>
              <label><input type="radio" name="location" value="State-Level"> State-Level</label>
              <label><input type="radio" name="location" value="Regional Centers"> Regional Centers</label>
            </div>
          </div>
          <!-- Continuous Inputs -->
          <div class="form-item">
            <label for="cohort-size">Cohort Size:</label>
            <input type="range" class="form-control-range" id="cohort-size" min="500" max="2000" step="500" value="1000">
            <small id="cohort-size-value">1000</small>
          </div>
          <div class="form-item">
            <label for="cost-per-participant">Cost per Participant (USD):</label>
            <input type="range" class="form-control-range" id="cost-per-participant" min="1000" max="6000" step="100" value="3000">
            <small id="cost-per-participant-value">$3,000</small>
          </div>
        </div>
        <div class="buttons-row">
          <button type="button" class="btn btn-primary" id="view-results">
            Predict Program Uptake
          </button>
        </div>
      </div>
    </section>

    <!-- Predicted Program Uptake Tab -->
    <section id="uptakeTab" class="tabcontent" tabindex="0">
      <h2>Predicted Program Uptake</h2>
      <div id="uptake-content">
        <p>Your predicted programme uptake will appear here.</p>
        <div class="chart-box">
          <canvas id="uptakeChart"></canvas>
        </div>
      </div>
    </section>

    <!-- WTP Results Tab -->
    <section id="wtpTab" class="tabcontent" tabindex="0">
      <div class="calculation-info">
        <h4>Willingness to Pay (WTP) Results</h4>
        <p>
          The chart below shows the additional value (in USD) that participants are willing to pay for each attribute level relative to a baseline.
        </p>
        <div class="chart-box">
          <canvas id="wtpChartMain"></canvas>
        </div>
      </div>
    </section>

    <!-- Costs & Benefits Tab -->
    <section id="cbaTab" class="tabcontent" tabindex="0">
      <div class="calculation-info">
        <h4>Costs & Benefits Analysis</h4>
        <p>
          This section provides a breakdown of the total costs, total benefits, and net benefit. Costs include fixed expenses (e.g., trainer salaries, venue, materials) and variable costs (e.g., administrative support, travel). Benefits are estimated based on QALY gains (assumed at 0.05 per participant) multiplied by $50,000 per QALY.
        </p>
        <div class="chart-box">
          <canvas id="cbaChart"></canvas>
        </div>
        <div class="summary-table">
          <table>
            <thead>
              <tr>
                <th>Item</th>
                <th>Value (USD)</th>
              </tr>
            </thead>
            <tbody id="benefit-summary-table">
              <!-- Summary inserted by script -->
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- Scenarios Tab -->
    <section id="scenariosTab" class="tabcontent" tabindex="0">
      <div class="calculation-info">
        <h4>Saved Scenarios</h4>
        <p>
          Your saved scenarios are listed below. Each scenario shows all input selections, the predicted uptake, and the net benefit.
        </p>
        <div class="buttons-row">
          <button class="btn btn-info" id="save-scenario">Save Current Scenario</button>
          <button class="btn btn-secondary" id="export-pdf">Export Scenarios to PDF</button>
        </div>
        <div class="scenario-list" id="saved-scenarios-list">
          <!-- Scenarios listed here -->
        </div>
      </div>
    </section>

    <footer>
      <p>
        &copy; 2025 STEPS. All Rights Reserved.<br />
        Mesfin Genie, Newcastle Business School, University of Newcastle, Australia<br />
        <strong>Support:</strong> <a href="mailto:mesfin.genie@newcastle.edu.au">mesfin.genie@newcastle.edu.au</a>
      </p>
    </footer>
  </div>
  <script src="script.js"></script>
</body>
</html>
